// Prisma schema for PCOS Early-Detection App
// PostgreSQL database with comprehensive health tracking models

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

enum UserRole {
  USER
  DOCTOR
}

enum VerificationStatus {
  PENDING
  VERIFIED
  REJECTED
}

enum RiskLevel {
  LOW
  MODERATE
  HIGH
}

enum FlowIntensity {
  LIGHT
  MODERATE
  HEAVY
}

enum ConsentStatus {
  PENDING
  APPROVED
  REVOKED
}

// Core User Model
model User {
  id          String    @id @default(uuid())
  email       String    @unique
  password    String
  role        UserRole  @default(USER)
  firstName   String?
  lastName    String?
  phone       String?
  dateOfBirth DateTime?
  createdAt   DateTime  @default(now())
  updatedAt   DateTime  @updatedAt

  // Relations
  doctor               Doctor?
  cycleEntries         CycleEntry[]
  symptomLogs          SymptomLog[]
  riskScores           RiskScore[]
  habitLogs            HabitLog[]
  userChallenges       UserChallenge[]
  appointmentSummaries AppointmentSummary[]
  consentAsPatient  PatientConsent[]    @relation("PatientConsents")
  consentAsDoctor   PatientConsent[]    @relation("DoctorConsents")
  doctorComments    DoctorComment[]
  dailyLogs         DailyLog[]
  // Community relations
  createdCommunities   Community[]          @relation("CommunityCreator")
  communityMemberships CommunityMember[]
  communityPosts       CommunityPost[]
  postReplies          CommunityPostReply[]
  sentMessages         DirectMessage[]      @relation("MessagesSent")
  receivedMessages     DirectMessage[]      @relation("MessagesReceived")

  // New feature relations
  medications              Medication[]
  foodEntries              FoodEntry[]
  waterIntakes             WaterIntake[]
  bodyMetrics              BodyMetric[]
  labResults               LabResult[]
  moodEntries              MoodEntry[]
  mentalHealthAssessments  MentalHealthAssessment[]
  exerciseEntries          ExerciseEntry[]
  sleepEntries             SleepEntry[]
  createdUserCommunities   UserCommunity[]        @relation("UserCommunityCreator")
  userCommunityMemberships UserCommunityMember[]
  userCommunityPosts       UserCommunityPost[]
  userCommunityReplies     UserCommunityReply[]
  userPostLikes            UserPostLike[]
  skinHairLogs             SkinHairLog[]
  fertilityEntries         FertilityEntry[]
  fertilityTreatments      FertilityTreatment[]
  aiReports         AIReport[]
  onboardingSurvey  OnboardingSurvey?
}

// Doctor Profile (extends User)
model Doctor {
  id                  String             @id @default(uuid())
  userId              String             @unique
  user                User               @relation(fields: [userId], references: [id], onDelete: Cascade)
  specialization      String?
  licenseNumber       String?
  verificationStatus  VerificationStatus @default(PENDING)
  yearsOfExperience   Int?
  hospitalAffiliation String?
  createdAt           DateTime           @default(now())
  updatedAt           DateTime           @updatedAt
}

// Menstrual Cycle Tracking
model CycleEntry {
  id            String         @id @default(uuid())
  userId        String
  user          User           @relation(fields: [userId], references: [id], onDelete: Cascade)
  startDate     DateTime
  endDate       DateTime?
  flowIntensity FlowIntensity?
  painLevel     Int? // 0-10 scale
  notes         String?
  medications   String[] // Array of medication names
  createdAt     DateTime       @default(now())
  updatedAt     DateTime       @updatedAt

  @@index([userId, startDate])
}

// Symptom Logging (adaptive tracking)
model SymptomLog {
  id          String   @id @default(uuid())
  userId      String
  user        User     @relation(fields: [userId], references: [id], onDelete: Cascade)
  date        DateTime
  symptomType String // e.g., "acne", "hair_loss", "mood_swing", "bloating"
  severity    Int // 0-10 scale
  notes       String?
  createdAt   DateTime @default(now())

  @@index([userId, date])
}

// PCOS Risk Score (explainable AI output)
model RiskScore {
  id           String    @id @default(uuid())
  userId       String
  user         User      @relation(fields: [userId], references: [id], onDelete: Cascade)
  score        Float // 0-100
  riskLevel    RiskLevel
  reasons      String[] // Array of explanation strings (e.g., "Cycle >45 days", "BMI trend up")
  calculatedAt DateTime  @default(now())

  // Optional: store input factors for transparency
  cycleLength  Int?
  bmiValue     Float?
  symptomCount Int?

  @@index([userId, calculatedAt])
}

// Habit & Lifestyle Tracking
model HabitLog {
  id        String   @id @default(uuid())
  userId    String
  user      User     @relation(fields: [userId], references: [id], onDelete: Cascade)
  habitType String // e.g., "walk_10k", "sleep_7h", "no_sugar", "mindful_eating"
  date      DateTime
  completed Boolean  @default(false)
  value     Float? // Optional: actual value (e.g., 8532 steps, 7.5 hours sleep)
  notes     String?
  createdAt DateTime @default(now())

  @@unique([userId, habitType, date])
  @@index([userId, date])
}

// Challenges (gamification)
model Challenge {
  id             String   @id @default(uuid())
  name           String
  description    String
  duration       Int // in days
  habitType      String // links to HabitLog.habitType
  pcosConnection String // Why this helps PCOS
  reward         String? // e.g., "Badge", "Points"
  createdAt      DateTime @default(now())

  userChallenges UserChallenge[]
}

model UserChallenge {
  id            String    @id @default(uuid())
  userId        String
  user          User      @relation(fields: [userId], references: [id], onDelete: Cascade)
  challengeId   String
  challenge     Challenge @relation(fields: [challengeId], references: [id], onDelete: Cascade)
  startDate     DateTime
  endDate       DateTime
  completed     Boolean   @default(false)
  currentStreak Int       @default(0)
  createdAt     DateTime  @default(now())

  @@unique([userId, challengeId, startDate])
  @@index([userId, completed])
}

// Appointment Preparation PDF
model AppointmentSummary {
  id          String   @id @default(uuid())
  userId      String
  user        User     @relation(fields: [userId], references: [id], onDelete: Cascade)
  generatedAt DateTime @default(now())
  pdfUrl      String? // S3 or local storage path
  data        Json // JSON snapshot of cycle, symptoms, risk data
}

// Patient-Doctor Consent & Access
model PatientConsent {
  id        String        @id @default(uuid())
  patientId String
  patient   User          @relation("PatientConsents", fields: [patientId], references: [id], onDelete: Cascade)
  doctorId  String
  doctor    User          @relation("DoctorConsents", fields: [doctorId], references: [id], onDelete: Cascade)
  status    ConsentStatus @default(PENDING)
  createdAt DateTime      @default(now())
  updatedAt DateTime      @updatedAt

  @@unique([patientId, doctorId])
  @@index([doctorId, status])
}

// Doctor Comments on Patient Records
model DoctorComment {
  id        String   @id @default(uuid())
  patientId String
  patient   User     @relation(fields: [patientId], references: [id], onDelete: Cascade)
  comment   String
  createdAt DateTime @default(now())

  @@index([patientId, createdAt])
}

// Daily Health Log (questionnaire responses)
model DailyLog {
  id              String   @id @default(uuid())
  userId          String
  user            User     @relation(fields: [userId], references: [id], onDelete: Cascade)
  date            DateTime @db.Date
  
  // Mood tracking
  mood            String?  // e.g., "happy", "sad", "anxious", "energetic", "tired"
  
  // Period related
  isOnPeriod      Boolean  @default(false)
  flowIntensity   String?  // "light", "moderate", "heavy"
  cramps          Int?     // 0-10 scale
  
  // General health
  energyLevel     Int?     // 1-10 scale
  sleepQuality    Int?     // 1-10 scale
  sleepHours      Float?   // hours of sleep
  stressLevel     Int?     // 1-10 scale
  exerciseMinutes Int?     // minutes of exercise
  
  // Symptoms
  symptoms        String[] // Array of symptoms (e.g., "headache", "bloating", "acne", "hair_fall")
  
  // Photo for tracking physical changes (acne, facial hair)
  photoUrl        String?  // Path or URL to the daily photo
  
  // Photo analysis results (AI/ML processed)
  acneCount       Int?     // Detected number of acne spots
  acneSeverity    Float?   // Severity score 0-10
  facialHairScore Float?   // Facial hair density score 0-10
  skinTexture     Float?   // Skin texture quality 0-10
  analysisDate    DateTime? // When photo was analyzed
  
  // Additional notes
  notes           String?
  
  createdAt       DateTime @default(now())
  updatedAt       DateTime @updatedAt
  
  @@unique([userId, date])
  @@index([userId, date])
}

// ========================================
// COMMUNITY & MESSAGING MODELS
// ========================================

model Community {
  id          String   @id @default(cuid())
  name        String
  description String?
  creatorId   String
  creator     User     @relation("CommunityCreator", fields: [creatorId], references: [id], onDelete: Cascade)
  isPrivate   Boolean  @default(false)
  createdAt   DateTime @default(now())
  updatedAt   DateTime @updatedAt

  members CommunityMember[]
  posts   CommunityPost[]

  @@index([creatorId])
}

model CommunityMember {
  id          String    @id @default(cuid())
  communityId String
  community   Community @relation(fields: [communityId], references: [id], onDelete: Cascade)
  userId      String
  user        User      @relation(fields: [userId], references: [id], onDelete: Cascade)
  role        String    @default("MEMBER") // ADMIN, MODERATOR, MEMBER
  joinedAt    DateTime  @default(now())

  @@unique([communityId, userId])
  @@index([userId])
}

model CommunityPost {
  id          String    @id @default(cuid())
  communityId String
  community   Community @relation(fields: [communityId], references: [id], onDelete: Cascade)
  authorId    String
  author      User      @relation(fields: [authorId], references: [id], onDelete: Cascade)
  content     String    @db.Text
  isPinned    Boolean   @default(false)
  createdAt   DateTime  @default(now())
  updatedAt   DateTime  @updatedAt

  replies CommunityPostReply[]

  @@index([communityId, createdAt])
  @@index([authorId])
}

model CommunityPostReply {
  id        String        @id @default(cuid())
  postId    String
  post      CommunityPost @relation(fields: [postId], references: [id], onDelete: Cascade)
  authorId  String
  author    User          @relation(fields: [authorId], references: [id], onDelete: Cascade)
  content   String        @db.Text
  createdAt DateTime      @default(now())
  updatedAt DateTime      @updatedAt

  @@index([postId, createdAt])
  @@index([authorId])
}

model DirectMessage {
  id         String   @id @default(cuid())
  senderId   String
  sender     User     @relation("MessagesSent", fields: [senderId], references: [id], onDelete: Cascade)
  receiverId String
  receiver   User     @relation("MessagesReceived", fields: [receiverId], references: [id], onDelete: Cascade)
  content    String   @db.Text
  isRead     Boolean  @default(false)
  createdAt  DateTime @default(now())

  @@index([senderId, receiverId, createdAt])
  @@index([receiverId, isRead])
}

// ========================================
// NEW HEALTH TRACKING FEATURES
// ========================================

// Medication & Supplement Tracker
model Medication {
  id           String   @id @default(uuid())
  userId       String
  user         User     @relation(fields: [userId], references: [id], onDelete: Cascade)
  name         String   // e.g., "Metformin", "Birth Control", "Inositol"
  type         String   // "medication" or "supplement"
  dosage       String?  // e.g., "500mg", "2 capsules"
  frequency    String   // "daily", "twice_daily", "weekly", "as_needed"
  timeOfDay    String[] // ["morning", "evening"]
  startDate    DateTime
  endDate      DateTime?
  prescribedBy String?  // Doctor name
  notes        String?
  isActive     Boolean  @default(true)
  createdAt    DateTime @default(now())
  updatedAt    DateTime @updatedAt

  logs MedicationLog[]

  @@index([userId, isActive])
}

model MedicationLog {
  id           String     @id @default(uuid())
  medicationId String
  medication   Medication @relation(fields: [medicationId], references: [id], onDelete: Cascade)
  userId       String
  takenAt      DateTime   @default(now())
  taken        Boolean    @default(true)
  skippedReason String?
  notes        String?

  @@index([medicationId, takenAt])
  @@index([userId, takenAt])
}

// Food & Nutrition Diary
model FoodEntry {
  id              String   @id @default(uuid())
  userId          String
  user            User     @relation(fields: [userId], references: [id], onDelete: Cascade)
  date            DateTime @db.Date
  mealType        String   // "breakfast", "lunch", "dinner", "snack"
  foodName        String
  portion         String?  // "1 cup", "2 servings"
  calories        Int?
  carbs           Float?   // grams
  protein         Float?   // grams
  fat             Float?   // grams
  fiber           Float?   // grams
  sugar           Float?   // grams
  glycemicIndex   Int?     // 0-100
  isAntiInflammatory Boolean @default(false)
  isPCOSFriendly  Boolean  @default(false)
  notes           String?
  photoUrl        String?
  createdAt       DateTime @default(now())

  @@index([userId, date])
}

model WaterIntake {
  id        String   @id @default(uuid())
  userId    String
  user      User     @relation(fields: [userId], references: [id], onDelete: Cascade)
  date      DateTime @db.Date
  glasses   Int      @default(0) // 8oz glasses
  mlTotal   Int?     // Total ml for the day
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt

  @@unique([userId, date])
}

// Weight & Body Metrics
model BodyMetric {
  id            String   @id @default(uuid())
  userId        String
  user          User     @relation(fields: [userId], references: [id], onDelete: Cascade)
  date          DateTime @db.Date
  weight        Float?   // kg
  height        Float?   // cm
  bmi           Float?
  waist         Float?   // cm - important for PCOS
  hip           Float?   // cm
  waistHipRatio Float?   // WHR - key PCOS indicator
  bodyFat       Float?   // percentage
  muscleMass    Float?   // kg
  notes         String?
  photoUrl      String?  // Progress photo
  createdAt     DateTime @default(now())

  @@index([userId, date])
}

// Lab Results Repository
model LabResult {
  id           String   @id @default(uuid())
  userId       String
  user         User     @relation(fields: [userId], references: [id], onDelete: Cascade)
  testDate     DateTime
  testName     String   // e.g., "Hormone Panel", "Glucose Test", "Lipid Panel"
  labName      String?
  orderedBy    String?  // Doctor name
  fileUrl      String?  // PDF upload
  notes        String?
  createdAt    DateTime @default(now())
  updatedAt    DateTime @updatedAt

  values LabValue[]

  @@index([userId, testDate])
}

model LabValue {
  id          String    @id @default(uuid())
  labResultId String
  labResult   LabResult @relation(fields: [labResultId], references: [id], onDelete: Cascade)
  marker      String    // e.g., "LH", "FSH", "Testosterone", "Insulin", "Glucose"
  value       Float
  unit        String    // e.g., "mIU/mL", "ng/dL", "mg/dL"
  normalMin   Float?    // Reference range min
  normalMax   Float?    // Reference range max
  isAbnormal  Boolean   @default(false)
  notes       String?

  @@index([labResultId])
}

// Mood & Mental Health Tracking
model MoodEntry {
  id            String   @id @default(uuid())
  userId        String
  user          User     @relation(fields: [userId], references: [id], onDelete: Cascade)
  date          DateTime @db.Date
  time          DateTime @default(now())
  mood          String   // "great", "good", "okay", "low", "bad"
  moodScore     Int      // 1-10
  emotions      String[] // ["anxious", "happy", "irritable", "calm", "sad"]
  anxietyLevel  Int?     // 0-10
  triggers      String[] // ["work", "relationships", "health", "sleep"]
  copingUsed    String[] // ["exercise", "meditation", "talking", "journaling"]
  journalEntry  String?  @db.Text
  createdAt     DateTime @default(now())

  @@index([userId, date])
}

// Mental Health Assessments (PHQ-9, GAD-7)
model MentalHealthAssessment {
  id             String   @id @default(uuid())
  userId         String
  user           User     @relation(fields: [userId], references: [id], onDelete: Cascade)
  assessmentType String   // "PHQ9", "GAD7", "PCOS_ANXIETY"
  date           DateTime @default(now())
  responses      Json     // Array of question responses
  totalScore     Int
  severity       String   // "minimal", "mild", "moderate", "moderately_severe", "severe"
  recommendations String[]
  createdAt      DateTime @default(now())

  @@index([userId, assessmentType, date])
}

// Exercise & Activity Logger
model ExerciseEntry {
  id            String   @id @default(uuid())
  userId        String
  user          User     @relation(fields: [userId], references: [id], onDelete: Cascade)
  date          DateTime @db.Date
  activityType  String   // "walking", "running", "yoga", "strength", "swimming", "cycling"
  duration      Int      // minutes
  intensity     String   // "low", "moderate", "high"
  caloriesBurned Int?
  heartRateAvg  Int?
  heartRateMax  Int?
  steps         Int?
  distance      Float?   // km
  notes         String?
  isPCOSFriendly Boolean @default(true)
  createdAt     DateTime @default(now())

  @@index([userId, date])
}

// Sleep Tracker
model SleepEntry {
  id           String   @id @default(uuid())
  userId       String
  user         User     @relation(fields: [userId], references: [id], onDelete: Cascade)
  date         DateTime @db.Date
  bedTime      DateTime
  wakeTime     DateTime
  duration     Float    // hours
  quality      Int      // 1-10
  deepSleep    Float?   // hours
  remSleep     Float?   // hours
  awakenings   Int?     // number of times woke up
  sleepLatency Int?     // minutes to fall asleep
  factors      String[] // ["caffeine", "screen_time", "stress", "exercise"]
  dreams       Boolean?
  notes        String?
  createdAt    DateTime @default(now())

  @@index([userId, date])
}

// User Community Forum
model UserCommunity {
  id          String   @id @default(uuid())
  name        String
  description String?  @db.Text
  category    String   // "general", "fertility", "weight_loss", "skincare", "mental_health", "success_stories"
  imageUrl    String?
  isPrivate   Boolean  @default(false)
  creatorId   String
  creator     User     @relation("UserCommunityCreator", fields: [creatorId], references: [id], onDelete: Cascade)
  memberCount Int      @default(0)
  postCount   Int      @default(0)
  createdAt   DateTime @default(now())
  updatedAt   DateTime @updatedAt

  members UserCommunityMember[]
  posts   UserCommunityPost[]

  @@index([category])
}

model UserCommunityMember {
  id          String        @id @default(uuid())
  communityId String
  community   UserCommunity @relation(fields: [communityId], references: [id], onDelete: Cascade)
  userId      String
  user        User          @relation(fields: [userId], references: [id], onDelete: Cascade)
  role        String        @default("MEMBER") // "ADMIN", "MODERATOR", "MEMBER"
  isAnonymous Boolean       @default(false)
  joinedAt    DateTime      @default(now())

  @@unique([communityId, userId])
}

model UserCommunityPost {
  id          String        @id @default(uuid())
  communityId String
  community   UserCommunity @relation(fields: [communityId], references: [id], onDelete: Cascade)
  authorId    String
  author      User          @relation(fields: [authorId], references: [id], onDelete: Cascade)
  title       String
  content     String        @db.Text
  isAnonymous Boolean       @default(false)
  isPinned    Boolean       @default(false)
  likesCount  Int           @default(0)
  viewCount   Int           @default(0)
  createdAt   DateTime      @default(now())
  updatedAt   DateTime      @updatedAt

  replies UserCommunityReply[]
  likes   UserPostLike[]

  @@index([communityId, createdAt])
}

model UserCommunityReply {
  id          String            @id @default(uuid())
  postId      String
  post        UserCommunityPost @relation(fields: [postId], references: [id], onDelete: Cascade)
  authorId    String
  author      User              @relation(fields: [authorId], references: [id], onDelete: Cascade)
  content     String            @db.Text
  isAnonymous Boolean           @default(false)
  likesCount  Int               @default(0)
  createdAt   DateTime          @default(now())
  updatedAt   DateTime          @updatedAt

  @@index([postId, createdAt])
}

model UserPostLike {
  id        String            @id @default(uuid())
  postId    String
  post      UserCommunityPost @relation(fields: [postId], references: [id], onDelete: Cascade)
  userId    String
  user      User              @relation(fields: [userId], references: [id], onDelete: Cascade)
  createdAt DateTime          @default(now())

  @@unique([postId, userId])
}

// Skin & Hair Health Tracker
model SkinHairLog {
  id              String   @id @default(uuid())
  userId          String
  user            User     @relation(fields: [userId], references: [id], onDelete: Cascade)
  date            DateTime @db.Date
  
  // Skin tracking
  acneSeverity    Int?     // 0-10
  acneLocations   String[] // ["chin", "forehead", "cheeks", "jawline"]
  skinOiliness    Int?     // 0-10
  skinDryness     Int?     // 0-10
  
  // Hair tracking
  hairLossAmount  Int?     // 0-10
  scalpOiliness   Int?     // 0-10
  facialHairGrowth Int?    // 0-10
  bodyHairGrowth  Int?     // 0-10
  
  // Products used
  skincareProducts String[]
  hairProducts     String[]
  
  photoUrl        String?
  notes           String?
  createdAt       DateTime @default(now())

  @@index([userId, date])
}

// Fertility Planning
model FertilityEntry {
  id              String   @id @default(uuid())
  userId          String
  user            User     @relation(fields: [userId], references: [id], onDelete: Cascade)
  date            DateTime @db.Date
  
  // BBT (Basal Body Temperature)
  bbtTemp         Float?   // Celsius
  bbtTime         DateTime?
  
  // Cervical Mucus
  cervicalMucus   String?  // "dry", "sticky", "creamy", "watery", "egg_white"
  
  // Ovulation
  ovulationTest   String?  // "negative", "positive", "peak"
  ovulationPain   Boolean? // Mittelschmerz
  
  // Intimacy
  intercourse     Boolean?
  
  // Other signs
  cervixPosition  String?  // "low", "medium", "high"
  cervixTexture   String?  // "firm", "soft"
  breastTenderness Int?    // 0-10
  
  notes           String?
  createdAt       DateTime @default(now())

  @@unique([userId, date])
  @@index([userId, date])
}

// Fertility Treatment Tracking
model FertilityTreatment {
  id            String   @id @default(uuid())
  userId        String
  user          User     @relation(fields: [userId], references: [id], onDelete: Cascade)
  treatmentType String   // "IUI", "IVF", "Clomid", "Letrozole", "Natural"
  startDate     DateTime
  endDate       DateTime?
  clinic        String?
  doctor        String?
  cost          Float?
  medications   String[]
  outcome       String?  // "ongoing", "successful", "unsuccessful", "cancelled"
  notes         String?  @db.Text
  createdAt     DateTime @default(now())
  updatedAt     DateTime @updatedAt

  @@index([userId, startDate])
}

// AI Health Reports
model AIReport {
  id        String   @id @default(uuid())
  userId    String
  user      User     @relation(fields: [userId], references: [id], onDelete: Cascade)
  content   String   @db.Text
  createdAt DateTime @default(now())

  @@index([userId, createdAt])
}

// Onboarding Voice Survey Responses
model OnboardingSurvey {
  id              String   @id @default(uuid())
  userId          String   @unique
  user            User     @relation(fields: [userId], references: [id], onDelete: Cascade)
  
  // 1. Period Impact
  periodImpact    String?  // "normal", "manageable", "irregular", "problematic"
  
  // 2. Perceived Reasons (Checkboxes)
  reasons         String[] // ["stress", "sleep", "diet", "weight", "hormonal", "genetic", "unknown", "other"]
  
  // 3. PMS Coping (Checkboxes)
  pmsCoping       String[] // ["tolerate", "home_remedies", "painkillers", "doctor", "rest", "other"]
  
  // 4. Physical Activity
  activityLevel   String?  // "0", "1-2", "3-4", "5+"
  
  // 5. Sleep Duration
  sleepDuration   String?  // "<6", "6-8", ">8", "irregular"
  
  // 6. Stress Level
  stressLevel     String?  // "low", "moderate", "high", "very_high"
  
  // 7. Supplements
  supplements     String?  // "rarely", "1-2", "3-4", "daily"
  
  // 8. Period Frequency
  periodFrequency String?  // "21-35", "<21", ">35", "skip", "unsure"
  
  // 9. Bleeding Duration
  bleedingDuration String? // "1-3", "4-7", ">7"
  
  // 10. Flow Intensity
  flowIntensity   String?  // "light", "normal", "heavy", "clots"
  
  // 11. Pain Level
  painLevel       String?  // "none", "mild", "moderate", "severe"
  
  // 12. Hirsutism
  hirsutism       String?  // "no", "little", "lot"
  
  // 13. PCOS Awareness
  pcosAwareness   String?  // "yes", "heard_only", "no"
  
  // 14. Information Source (Checkboxes)
  infoSource      String[] // ["family", "social_media", "school", "doctor", "news", "none", "other"]
  
  // 15. PCOS Symptoms Knowledge (Checkboxes)
  symptomKnowledge String[] // ["irregular_periods", "hirsutism", "acne", "weight_gain", "infertility", "unsure"]
  
  // 16. Knowledge Confidence
  confidence      String?  // "very", "somewhat", "not_very", "not_at_all"
  
  // 17. Workshops Attended
  workshops       String?  // "menstrual", "pcos", "both", "none"
  
  completedAt     DateTime @default(now())
}
